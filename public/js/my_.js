function urlToRoute(i,t){if("object"!=typeof routes)throw Error("routes object not defined!.");if(!routes.hasOwnProperty(i))throw Error("route name doesn't exists");route=routes[i];var e=new RegExp("{.+?}","g");if(matches=route.match(e)){if("undefined"==typeof t)throw Error("route needs parameters .");if(matches.length>1){if(!(t instanceof Array)||matches.length!=t.length)throw Error("route needs "+matches.length+" parameters.")}else t instanceof Array||(t=[t]);var n=0;route=route.replace(e,function(i){return t[n++]})}return baseUrl+"/"+route}var myUtil=function(i){i.documentElement=document.documentElement||document.body.parentNode||document.body,i.isStandardMode="BackCompat"!=document.compatMode;var t,e,s,o,r,a=null;return i.isMobile=function(){return null!==a?a:a=navigator.userAgent.indexOf("Mobile")!==-1||navigator.userAgent.indexOf("Android")!==-1},i.getBrowserInfo=function(){return"undefined"!=typeof o?o:((opera=navigator.userAgent.match(/(?:Opera\/([0-9\.\w]+)\s\((.+?)\)(?:(?=.*Version\/).*Version\/([0-9\.\w]+)|.*))|\((.+?)\).+?Opera(?:[\s\/]([0-9\.\w]+))?/))?o={name:"Opera",version:opera[5]||opera[3]||opera[1]||"",cssVendor:"o",sysStr:opera[4]||opera[2]}:(ie=navigator.userAgent.match(/(?:MSIE\s+([0-9\.\w]+)(?:(?=.+Win).+?(Win.+[0-9\.\w]+)|.*))|\((.+?);.+?Trident.*?rv:([0-9\.\w]+)/i))?o={name:"Internet Explorer",version:ie[4]||ie[1],cssVendor:"ms",sysStr:ie[3]||ie[2]||""}:(mozilla=navigator.userAgent.match(/\((.+?)(?:(?=.*rv:)[\s;]+rv:([\.\d\w]+)|\)).+?Gecko.+?Firefox[\s\/]?([\w\d\.]+)?/i))?o={name:"Mozilla Firefox",version:mozilla[3]||mozilla[2],cssVendor:"moz",sysStr:mozilla[1]}:(chrome=navigator.userAgent.match(/(?:\((.+?)\).+?Chrome\/([\d\.\w]+))|Chrome\/([\d\.\w]+).+?\((.+?)\)(?:(?=.*Version\/).+?Version\/([\d\w\.]+)|.*?)/i))?o={name:"Google Chrome",version:chrome[5]||chrome[3]||chrome[2],cssVendor:"webkit",sysStr:chrome[4]||chrome[1]||""}:(safari=navigator.userAgent.match(/\((.+?)\).+?AppleWebKit(?:(?=.*Version\/).*?Version\/([\d\w\.]+)|.*?)(?:(?=.*Safari\/).*?Safari\/([\d\w\.]+)|.*?)/i))&&(o={name:i.isMobile()?"Android Browser":"Safari",version:safari[2]||safari[3]||"",cssVendor:"webkit",sysStr:safari[1]}),o.webkit||navigator.userAgent.indexOf("AppleWebKit")==-1||(o.cssVendor="webkit"),o)},i.getSystemInfo=function(){return"undefined"!=typeof r?r:(r={},"undefined"!=typeof o?r.str=o.sysStr:r.str=navigator.userAgent.slice(navigator.userAgent.indexOf("(")+1,navigator.userAgent.indexOf(")")),i.isMobile()?(info=r.str.match(/Android.*?([\d\.]+)(?:(?=.*?Build).+?\b([\w\d\_\-\s]+)\b\sBuild|.*?)/i))?(r.osPlatform="Android",r.osVersion=info[1],r.mobileName=info[2]||""):(info=r.str.match(/((?:iPhone)|(?:iPad)|(?:iPod)).+?OS\s([\d\_\w\.]+)/i))?(r.osPlatform="iOS",r.osVersion=info[2].replace(/_/g,"."),r.mobileName=info[1]):(info=r.str.match(/Windows\sPhone\s(?:OS\s)?([\d\_\w\.]+)(?:(?=.*?(NOKIA|SAMSUNG|LG)).+?\2(?:(?=.{4,}$).*?\b([\w\d\-\s]+)\b|.*?)|.*?)/i))&&(r.osPlatform="Windows Phone",r.osVersion=info[1].replace(/_/g,"."),r.mobileName=info[2]?info[2]+(info[3]?" "+info[3]:""):info[3]||""):r.str.indexOf("Macintosh")!==-1?(r.osPlatform="Macintosh",(info=r.str.match(/(\w+)\sMac\sOS\sX\s?([\d_\.]+)?/i))&&(r.osVersion=info[2]?info[2].replace(/_/g,"."):"","PPC"==info[1]?(r.isPPC=!0,r.isIntel=!1):(r.isPPC=!1,r.isIntel=!0))):r.str.indexOf("Windows")!==-1||r.str.indexOf("compatible")!==-1?(r.osPlatform="Windows",(info=r.str.match(/Windows\s(?:NT\s)?([\.\d]+)/i))&&(r.osVersion=info[1])):r.str.indexOf("X11")===-1&&r.str.indexOf("Linux")===-1||(r.osPlatform="Linux"),r)},i.toNumber=function(i){return n=parseInt(i),isNaN(n)?0:n},i.uCFirst=function(i){return i.charAt(0).toUpperCase()+i.substr(1)},i.toCamelCase=function(i){return i=i.toLowerCase(),i=i.replace(/[\s\-\_]+(\w)/g,function(i,t){return t.toUpperCase()})},i.cssSupport=function(t){return"undefined"==typeof supportedStyles&&(supportedStyles=document.createElement("DIV").style),t in supportedStyles?t:(t=i.toCamelCase(t),t in supportedStyles?t:(t=i.getBrowserInfo().cssVendor+i.uCFirst(t),t in supportedStyles&&t))},i.getPageOffsets=function(){return s={},"undefined"==window.scrollY?(s.x="undefined"==window.pageXOffset?i.documentElement.scrollLeft:window.pageXOffset,s.y="undefined"==window.pageYOffset?i.documentElement.scrollTop:window.pageYOffset,s):{x:window.scrollX,y:window.scrollY}},i.hasVerticalScroll=function(){return i.documentElement.scrollHeight>(window.innerHeight||i.documentElement.clientHeight)},i.hasHorizontalScroll=function(){return i.documentElement.scrollWidth>(window.innerWidth||i.documentElement.clientWidth)},i.getScrollBarWidth=function(){if("undefined"!=typeof t)return t;var i=document.createElement("DIV");i.setAttribute("style",'width: 100px; position: absolute; top: "-100px"; visibility: hidden'),document.body.appendChild(i);var n,s,o=i.offsetWidth;return i.style.overflow="scroll",n=document.createElement("DIV"),i.appendChild(n),n.setAttribute("style","width: 100%"),s=n.offsetWidth,i.remove(),t=o-s,e=t/2,delete i,s,t},i.getScrollBarHalfWidth=function(){return"undefined"!=typeof e?e:(i.getScrollBarWidth(),e)},i}(myUtil||{}),MyNotifier=function(i){return"undefined"==typeof i?this:(Object.defineProperties(this,{notifier:{value:{$notifier:null,parts:{}},writable:!0,enumerable:!0},info:{value:{key:null,isOnScreen:!1},writable:!0,enumerable:!0},hideTimeout:{value:null,writable:!0,enumerable:!0},options:{value:null,writable:!0,enumerable:!0}}),this.options=i,void this.__construct(i))};Object.defineProperties(MyNotifier.prototype,{$notifierWraper:{value:$("<div>",{id:"my-notifier"}),writable:!0,enumerable:!0},templates:{value:{notifier:$("<div>",{"class":"notifier"}),fig:$("<figure>",{"class":"notifier-fig"}),figImg:$("<img>"),figCap:$("<figcaption>"),body:$("<div>",{"class":"notifier-body"}),title:$("<h4>",{"class":"notifier-title"}),content:$("<p>",{"class":"notifier-content"}),dismiss:$("<span>",{"class":"notifier-dismiss"}),link:$("<a>",{"class":"notifier-link",target:"_blank"})}},globalInfo:{value:{isSettingsSetted:!1,isFiristNotification:!0,activeNotifications:0,waitingList:[],css3Animation:!1},writable:!0,enumerable:!0},settings:{value:{imgSrc:{success:"/src/images/notifier/success.png",error:"/src/images/notifier/error.png",warning:"/src/images/notifier/warning.png",info:"/src/images/notifier/info.png"},maxNotifications:2,animationDuration:400,dismissTimeout:7e3,hoverTimeout:4e3,autoDismiss:!0},writable:!0,enumerable:!0},setSettings:{value:function(i){this.globalInfo.isSettingsSetted||($.extend(this.settings,i),this.isSetter=!0,this.globalInfo.isSettingsSetted=!0,"undefined"!=typeof myUtil&&(this.globalInfo.css3Animation=myUtil.cssSupport("animation")))}},instances:{value:{length:0,get:{},nextKey:0},enumerable:!0,writable:!0},__construct:{value:function(){this.key=this.instances.nextKey++,this.instances.get[this.key]=this,this.instances.length++,this.create()}},create:{value:function(){this.globalInfo.isFiristNotification&&(this.$notifierWraper.appendTo("body"),this.globalInfo.isFiristNotification=!1,window.innerWidth<768&&(this.$notifierWraper[0].style.left=(window.innerWidth-300)/2+"px"),$(window).on("resize",function(){window.innerWidth<768?this.$notifierWraper.css("left",(window.innerWidth-300)/2+"px"):this.$notifierWraper.css("left","")}.bind(this)));var i=this.notifier.$notifier=this.templates.notifier.clone();np=this.notifier.parts,np.fig=this.templates.fig.clone(),np.figImg=this.templates.figImg.clone().appendTo(np.fig),null!=this.options.imgSrc?(np.figImg[0].onerror=function(){this.onerror=null,np.figImg[0].src=this.settings.imgSrc[this.options.type]}.bind(this),np.figImg[0].src=this.options.imgSrc,null!=this.options.imgCaption&&(np.figCap=this.templates.figCap.clone().appendTo(np.fig),null!=this.options.imgLink?np.figCap.append('<a target="_blank" href="'+this.options.imgLink+'"">'+this.options.imgCaption+"</a>"):np.figCap.text(this.options.imgCaption))):np.figImg[0].src=this.settings.imgSrc[this.options.type],np.body=this.templates.body.clone(),null!=this.options.title&&(np.title=this.templates.title.clone().text(this.options.title).appendTo(np.body)),np.content=this.templates.content.clone().append(this.options.content).appendTo(np.body),null!=this.options.link&&(np.link=this.templates.link.clone().append('<span class="glyphicon glyphicon-new-window"></span>').attr("href",this.options.link)),np.dismiss=this.templates.dismiss.clone().append("&times;"),i.append(np.fig,np.body,np.link,np.dismiss).prependTo(this.$notifierWraper)}},show:{value:function(){if("undefined"==typeof this.isSetter&&1!=this.info.isOnScreen){if(this.globalInfo.activeNotifications==this.settings.maxNotifications)return void(this.globalInfo.waitingList.indexOf(this.key)==-1&&this.globalInfo.waitingList.push(this.key));this.globalInfo.activeNotifications?(this.$notifierWraper.show(),this.globalInfo.css3Animation?this.notifier.$notifier.show().addClass("flip-bottom"):this.notifier.$notifier.fadeIn(this.settings.animationDuration)):this.globalInfo.css3Animation?(this.notifier.$notifier.show(),this.$notifierWraper.show().addClass("flip-bottom")):(this.$notifierWraper.hide(),this.notifier.$notifier.show(),this.$notifierWraper.slideDown(this.settings.animationDuration)),this.globalInfo.activeNotifications++,this.info.isOnScreen=!0,this.behaviour()}},enumerable:!0},autoDismiss:{value:function(i){i="undefined"==typeof i||"dismissTimeout"==i?"dismissTimeout":"hoverTimeout",clearTimeout(this.dismissTimeout),this.dismissTimeout=setTimeout(function(){this.dismiss()}.bind(this),this.settings[i])}},dismiss:{value:function(){this.globalInfo.activeNotifications>1?this.notifier.$notifier.removeClass("flip-bottom").fadeOut(this.settings.animationDuration,function(){this.dismissed()}.bind(this)):this.$notifierWraper.removeClass("flip-bottom").slideUp(this.settings.animationDuration,function(){this.dismissed()}.bind(this))},enumerable:!0},dismissed:{value:function(i){clearTimeout(this.dismissTimeout),this.info.isOnScren=!1,this.globalInfo.activeNotifications--,0==this.globalInfo.activeNotifications&&this.$notifierWraper.hide(),this.globalInfo.waitingList.length&&(index=this.globalInfo.waitingList.shift(),this.instances.get[index].show()),this.removeBehaviour(),this.notifier.$notifier.remove(),this.instances.length--,delete this.instances.get[this.info.key],this},enumerable:!0},behaviour:{value:function(){this.notifier.parts.dismiss.on("click",function(){this.dismiss()}.bind(this)),this.settings.autoDismiss===!0&&(this.autoDismiss(),this.notifier.$notifier.on({mouseenter:function(){clearTimeout(this.dismissTimeout)}.bind(this),mouseleave:function(){this.autoDismiss("hoverTimeout")}.bind(this)}))},enumerable:!0},removeBehaviour:{value:function(){this.notifier.parts.dismiss.off("click"),this.settings.autoDismiss===!0&&this.notifier.$notifier.off("click, mouseenter, mouseleave")},enumerable:!0}});